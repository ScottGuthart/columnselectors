(this["webpackJsonpreact-flask-app"]=this["webpackJsonpreact-flask-app"]||[]).push([[0],{33:function(e,t,n){e.exports=n(45)},38:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(11),l=n.n(c),r=(n(38),n(49)),i=n(52),s=n(50),m=n(51),u=n(24),f=n.n(u),p=n(13),d=n(19),v=n(47),h=n(25),E=function(e){var t=e.selectedOptions;t=Array.from(t);var n=[];return t.map((function(e){return n.push(parseInt(e.value)),!0})),n},b=function(e){return o.a.createElement(m.a.Group,{as:v.a,className:"mb-5"},o.a.createElement(h.a,{sm:6},o.a.createElement(m.a.File,{label:"Select ".concat(e.name),custom:!0,accept:e.formats,onChange:e.onChange})))},g=function(e){var t=0===e.columns.length;return o.a.createElement(m.a.Control,{onChange:e.onChange,size:"sm",as:"select",multiple:!0,value:e.columns.filter((function(e){return e.selected})).map((function(e){return e.value})),htmlSize:e.size,disabled:t,custom:!0},e.columns.map((function(e,t){return o.a.createElement("option",{key:e.value,value:e.value},e.name)})))},C=n(48),z=n(7),y=function(e){return"arrive"===e.buttonAction?o.a.createElement(C.a,{size:"",className:"text-nowrap",variant:"primary",onClick:e.handleClick},o.a.createElement(z.b,{size:"1.0rem",style:{position:"relative",bottom:"1px"}}),"\xa0",e.name,"\xa0",o.a.createElement(z.b,{size:"1.0rem",style:{position:"relative",bottom:"1px"}})):"depart"===e.buttonAction?o.a.createElement(C.a,{size:"",className:"text-nowrap",variant:"primary",onClick:e.handleClick},o.a.createElement(z.a,{size:"1.0rem",style:{position:"relative",bottom:"1px"}}),"\xa0",e.name,"\xa0",o.a.createElement(z.a,{size:"1.0rem",style:{position:"relative",bottom:"1px"}})):o.a.createElement(C.a,{size:"",className:"text-nowrap disabled",disabled:!0,variant:"secondary",onClick:e.handleClick},o.a.createElement(z.c,{size:"1.0rem",style:{position:"relative",bottom:"1px"}}),"\xa0",e.name,"\xa0",o.a.createElement(z.c,{size:"1.0rem",style:{position:"relative",bottom:"1px"}}))},k=(n(42),function(e){return o.a.createElement(v.a,{className:"ColumnReceiver"},o.a.createElement(m.a.Label,{as:h.a,sm:5,className:"d-flex align-items-center p-0",style:{justifyContent:"center"}},o.a.createElement(y,{name:e.name,handleClick:e.handleReceiverButtonClick,buttonAction:e.buttonAction})),o.a.createElement(h.a,{sm:7,className:"pt-1 pb-1"},o.a.createElement(g,{size:e.size,columns:e.columns,onChange:e.onChange})))}),x=function(e){var t=e.columns.length<=1;return o.a.createElement(m.a.Control,{size:"sm",as:"select",multiple:!0,htmlSize:e.htmlSize,onChange:e.onChange,value:e.columns.filter((function(e){return e.selected})).map((function(e){return e.value})),disabled:t,custom:!0},e.columns.filter((function(e){return!e.consumed})).map((function(e,t){return o.a.createElement("option",{key:e.value,value:e.value},e.name)})))},j=function(e){var t=Object(a.useState)(void 0),n=Object(d.a)(t,2),c=n[0],l=n[1],r=Object(a.useState)([]),i=Object(d.a)(r,2),s=i[0],m=i[1],u=Object(a.useState)(null),f=Object(d.a)(u,2),g=f[0],C=f[1];Object(a.useEffect)((function(){C((function(){var e=s.filter((function(e){return e.selected}));if("object"===typeof e&&e.length>0)return e[0].location}))}),[s]),Object(a.useEffect)((function(){(console.log("useEffect: File Change"),void 0!==c)?(console.log("Filename: ".concat(c.name)),m(["Loading..."]),fetch("/api/columns",{method:"POST",body:c}).then((function(e){return e.json()})).then((function(e){console.log("Column Data Received"),console.log(e),m(e.map((function(e,t){return{name:e,location:null,selected:!1,value:t}})))})).catch((function(e){console.log(e)}))):m([])}),[c]);var z,y=function(e){var t=E(e.target);console.log(t),m((function(e){return e.map((function(e,n){return Object(p.a)(Object(p.a)({},e),{},{selected:t.includes(n)})}))}))},j=Object(a.useCallback)((function(e){console.log("handleButton ".concat(e)),m((function(t){var n=t.filter((function(e){return e.selected}));return t.map((function(t){var a;return a=n.includes(t)?t.location===e?null:e:t.location,Object(p.a)(Object(p.a)({},t),{},{location:a})}))}))}),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"mt-3 mb-3"},e.name),o.a.createElement(b,{name:e.name,formats:e.formats,onChange:function(e){var t=e.target.files[0];l(t)}}),o.a.createElement(v.a,{className:"ml-0 d-flex align-items-center"},o.a.createElement(h.a,{sm:4,className:"pl-0"},o.a.createElement(x,{onChange:y,columns:s.filter((function(e){return null==e.location})),htmlSize:(z=e.columnReceivers,z.reduce((function(e,t){return e+t.size}),0)+7)})),o.a.createElement(h.a,{sm:8},e.columnReceivers.map((function(e,t){return o.a.createElement(k,{name:e.name,size:e.size,id:e.id,key:t,columns:s.filter((function(t){return t.location===e.id})),buttonAction:(n=e.id,console.log("getButtonAction ".concat(n)),void 0!==g?g===n?"depart":"arrive":"none"),handleReceiverButtonClick:function(e){j(t,e)},onChange:y});var n})))))},O=[{name:"Excel File",id:0,formats:".csv, .xlsx, .xls, .sav",columnReceivers:[{name:"Group 1",id:0,size:1},{name:"Group 2",id:1,size:5},{name:"Group 3",id:2,size:5},{name:"Group 4",id:3,size:5},{name:"Group 5",id:4,size:5}]}];var N=function(){Object(a.useEffect)((function(){console.log("useEffect: Page Load"),f.a.init()}),[]);var e=O.map((function(e){return o.a.createElement(j,{name:e.name,formats:e.formats,columnReceivers:e.columnReceivers})}));return o.a.createElement(r.a,{className:"p-3   mt-5",style:{maxWidth:"900px"}},o.a.createElement("h1",{className:"mb-5"},"Column Selector Demo"),o.a.createElement(i.a,{variant:"tabs",defaultActiveKey:"upload"},o.a.createElement(s.a,{eventKey:"upload",title:"Upload"},o.a.createElement("p",{className:"pt-3"},o.a.createElement(m.a,null,e)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(44);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.5d8f3498.chunk.js.map